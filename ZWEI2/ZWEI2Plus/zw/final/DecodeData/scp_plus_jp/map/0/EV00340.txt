//====================================================================
//ステージトラップスクリプト
//[10340][ロアルタ村・牛舎]
//====================================================================

#ScriptTable

#FEDERICA	10
#ANNETTE	11
//=====================================================================
//=== 初期化処理 ======================================================
//=====================================================================
INIT
{
//  set_chr  no typ     tip     	 x     y   z   	 mot  向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
//■エントリー
	set_chr( 90,990,	-1,-1,     125,    0,  0,     90,0304, 6,"K6_10300;")	//ロアルタ村へ
	

	//──────────────────────────────
	//▼⑩社へ向かったミアを追うことにした（ラグナ・アルウェン）
	//──────────────────────────────
	if( F4_09_GoShrineMia && !F5_00_HearLunar)
	{
		set_chr( FEDERICA,70,	-1,-1,	-1099,281,1,		10,90,	20,"<TK_FEDERICA>")	//台所　フェデリカ
		chr_equip2(FEDERICA,	"EQ_010",	"Bone_RightSword",	100,		0,70,0,	0,0,0);		//フライパン
		
		//モーション
		MOT_SET(FEDERICA,151,-1,512,512,152,20)//フライパンをコンロに出している
		MOT_SET(FEDERICA,152,-1,513,513,151,20)
		MOT(FEDERICA,151,0)
		F_set_chr(FEDERICA,CF_NO_MOVE)
	}
	else
	//──────────────────────────────
	//▼⑦ラグナは単独行動を始めた
	//──────────────────────────────
	if( F4_00_StartSolo && !F4_09_GoShrineMia)
	{
		set_chr( FEDERICA,70,	-1,-1,	-1150,-670,60,	10,0,	20,"<TK_FEDERICA>")	//ベッド　フェデリカ
		
		//⑧になると町に帰るアネット
		if(!F4_02_GoVillage2)
		{
			set_chr( ANNETTE,43,	-1,-1,  -1018,-575,0, 		10,135,	20,"<TK_ANNETTE>")	//ベッド　アネット
			look_chr(FEDERICA,ANNETTE,"Bone_Head")
			F_set_chr(ANNETTE,CF_NO_MOVE)
			MOT_SET(ANNETTE,150,-1,444,444,-1,-1)
			MOT(ANNETTE,150,10)
		}

		//モーション
		MOT_SET(FEDERICA,150,-1,485,485,-1,-1)		//フェデリカ	:ベットに起き上がってる
		MOT(FEDERICA,150,0)
		F_set_chr(FEDERICA,CF_NO_HEIGHT)
		F_set_chr(FEDERICA,CF_NO_FALL)
		F_set_chr(FEDERICA,CF_NO_MOVE)
		F_set_chr(FEDERICA,CF_NO_CSP)
	}
	else
	//──────────────────────────────
	//▼②ロアルタ村へ向かうことにした
	//──────────────────────────────
	if( F1_15_GoVillage && !F2_00_GoForest)
	{
		set_chr( FEDERICA,70,	-1,-1,	-969,-291,0,		10,277,	20,"<TK_FEDERICA>")	//フェデリカ
		EV("FREEMOVE_FEDERICA")
	}

}
//====================================================================
//=== NPC処理 ===================================================
//====================================================================
//──────────────────────────────
//▼フェデリカフリームーブ
//──────────────────────────────
FREEMOVE_FEDERICA
{
	move( FEDERICA, 25,	WALK1,	500,500,0,	50)
	wait_move( FEDERICA )
	wait(50)
	loop
}

//──────────────────────────────
//▼⑦アネットとフェデリカの会話
//──────────────────────────────
TALK_FA
{
	MOT(ANNETTE,151,5)
	MES(ANNETTE,"お、お姉ちゃんのバカー！！",0)
	MES(ANNETTE,"ホントに心配したのよ！？",0)
	MES(ANNETTE,"ホントのホントに\n心配したんだからね！！",0)
	MES_close(ANNETTE)

	MOT(ANNETTE,150,10)
	
//	name2(FEDERICA)
	MES(FEDERICA,"はは……\nそんなに大きな声出さないでよ。",0)
	MES(FEDERICA,"ほら、この通り\n大した怪我もなかったんだし。",0)
	MES_close(FEDERICA)

//	name2(ANNETTE)
	MOT(ANNETTE,151,5)
	MES(ANNETTE,"そういう問題じゃないの！",0)
	MES(ANNETTE,"ロアルタ村に\nマモノが出るなんて……",0)
	MOT(ANNETTE,150,10)
	MES(ANNETTE,"グス、そんな話知ってたら、\nあたし絶対反対したのにぃぃ～……",0)
	MES_close(ANNETTE)

//	name2(FEDERICA)
	MES(FEDERICA,"ああ、ほらもう……\nアネットったら、泣かないでよ。",0)
	MES_close(FEDERICA)
	
	//★フェデリカ
	F_set_note(FEDERICA,-1)
	//★アネット
	F_set_note(ANNETTE,-1)
	F_set(FT_07_TalkAneFede)
}

//====================================================================
//=== イベント処理 ===================================================
//====================================================================

#EndScriptTable
//====================================================================

