//====================================================================
//ステージトラップスクリプト
//[10160][アルッテ・民家]
//====================================================================

#ScriptTable

#NIPPLE		18
#COLIN		19
#HATY		20
#MAURICE	21
#RYPTON		22
#MONDRIAAN	23
#POPPO		26
#CAT_A		27
#CAT_B		28
#CAT_C		29
#DOG		30

//=====================================================================
//=== 初期化処理 ======================================================
//=====================================================================
INIT
{
//  set_chr  no typ     tip      	x    y   z   	 mot  向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
//■エントリー
	//⑥の間は夜マップへ
	if(F3_00_GoMoonCastle && !F4_00_StartSolo)
	{	
		set_chr( 90,990,	-1,-1,     50,   0,  0,	  	 90,0103, 6,"K2_10101;")	//アルッテの町 - 民家①
		set_chr( 91,990,	-1,-1,   5000,  50,  0,	  	180,0301, 6,"K4_10101;")	//アルッテの町 - 民家②
		set_chr( 92,990,	-1,-1,  10000,  50,  0,	  	180,0301, 6,"K5_10101;")	//アルッテの町 - 民家③
	}
	else
	{
		set_chr( 90,990,	-1,-1,     50,   0,  0,	  	 90,0103, 6,"K2_10100;")	//アルッテの町 - 民家①
		set_chr( 91,990,	-1,-1,   5000,  50,  0,	  	180,0301, 6,"K4_10100;")	//アルッテの町 - 民家②
		set_chr( 92,990,	-1,-1,  10000,  50,  0,	  	180,0301, 6,"K5_10100;")	//アルッテの町 - 民家③
	}

//	set_chr( 90,520,	-1,-1,     -1907,-700,0,  	 0,270,	6,"K2_10100;")	//民家①仮アルッテの街
//	set_chr( 91,520,	-1,-1,     -1907, 500,0,  	 0,270,	6,"K4_10100;")	//民家②仮アルッテの街
//	set_chr( 92,520,	-1,-1,     -1907,1100,0,  	 0,270,	6,"K5_10100;")	//民家③仮アルッテの街

	//NPC
	//──────────────────────────────
	//▼⑬エンディング直前
	//──────────────────────────────
	if( F6_05_EndSixth )
	{
		set_chr( MONDRIAAN,53,	-1,-1,	 5190,-850,30,	 2,0, 20,"<TK_MONDRIAAN>")			//民家１　モンドレアン夫人
		EV("MOTION_MONDRIAAN_01")

		set_chr( CAT_A,483,	-1,-1,	 4816,-675,0,	 0,328, 20,"<TK_CAT_A>")					//民家１　ミーちゃん(CAT_A)
		EV("FREEMOVE_CAT_A")
		set_chr( CAT_B,484,	-1,-1,	 4710,-984,0,	 0,284, 20,"<TK_CAT_B>")					//民家１　ハッチー(CAT_B)
		EV("FREEMOVE_CAT_B")
		set_chr( CAT_C,485,	-1,-1,	4674,-507,0,	 0,284, 20,"<TK_CAT_C>")					//民家１　ショコラ(CAT_C)
		EV("FREEMOVE_CAT_C")
		F_set_chr(MONDRIAAN,CF_NO_MOVE)

		//Name制御──────────────
		//ミーちゃん（猫）
		//ハッチー（猫）	
		//ショコラ（猫）	
			if(FV_FF_NameMe)
				chr_rename(CAT_A,"ミー")
			if(FV_FF_NameHatti)
				chr_rename(CAT_B,"ハッチー")
			if(FV_FF_NameShocora)
				chr_rename(CAT_C,"ショコラ")
		//──────────────────

	}
	else
	//──────────────────────────────
	//▼⑫飛行機でメルセデクに乗り込むことにした（ラグナ・アルウェン・ルゥ）
	//──────────────────────────────
	if( F6_00_GoToMeru )
	{
	}
	else
	//──────────────────────────────
	//▼⑪クリスタルバレーを起動することにした（ラグナ・ルゥ（・オデッサ））
	//──────────────────────────────
	if( F5_00_HearLunar )
	{
		set_chr( NIPPLE,56,	-1,-1,	 10000,-500,0,	 2,0, 20,"<TK_NIPPLE>")		//民家２　ニップル
		look(NIPPLE,"Bone_Head",0,	0,0,2,	0,0,-5)
		F_set_chr(NIPPLE,CF_NO_MOVE)
	}
	else
	//──────────────────────────────
	//▼⑩社へ向かったミアを追うことにした（ラグナ・アルウェン）
	//──────────────────────────────
	//※無し
	//──────────────────────────────
	//▼⑨汎用忍者が倒れているだけのフラグ。
	//──────────────────────────────
	//※無し
	//──────────────────────────────
	//▼⑧星降りの里に到着した（ラグナ・スバル）
	//──────────────────────────────
	//※無し
	//──────────────────────────────
	//▼⑦ラグナは単独行動を始めた
	//──────────────────────────────
	if( F4_00_StartSolo )
	{
		set_chr( HATY,55,	-1,-1,	-605,-138,1,	 2,180, 20,"<TK_HATY>")			//民家①前　ハティ
		F_set_chr(HATY,CF_NO_MOVE)

		set_chr( NIPPLE,56,	-1,-1,	 9790,-908,0,	 2,0, 20,"<TK_NIPPLE>")		//民家２　ニップル
		EV("FREEMOVE_NIPPLE")

	}
	else
	//──────────────────────────────
	//▼⑥ロアルタ村の人々を救出し、ムーンブリア城へ向かった（マップ：夜）
	//──────────────────────────────
	if( F3_00_GoMoonCastle )
	{
	}
	else
	//──────────────────────────────
	//▼⑤魔女ラーライラから、敵の正体が明かされた
	//──────────────────────────────
	if( F2_14_TalkEnemy )
	{
		set_chr( RYPTON,52,	-1,-1,	4644,-662,1,	 53,0, 20,"<TK_RYPTON>")		//民家１　リプトン
		EV("LOOKING_RYPTON")
		set_chr( DOG,481,	-1,-1,	4879,-330,1,	 0,210, 20,"<TK_DOG>")			//民家１　クラーク（犬）
		EV("FREEMOVE_DOG")
		//Name制御──────────────
		//クラーク（犬）	
			if(FV_FF_NameCrac)
				chr_rename(DOG,"クラーク")
		//──────────────────

		set_chr( COLIN,57,	-1,-1,	 10051,-1108,1,	 2,180, 20,"<TK_COLIN>")					//民家３　コリン
		look(COLIN,"Bone_Head",0,		0,0,10,			0,0,20)
		EV("MOTION_COLIN_02")
		F_set_chr(RYPTON,CF_NO_MOVE)
		F_set_chr(COLIN,CF_NO_MOVE)
	}
	else
	//──────────────────────────────
	//▼④炎のパーツを入手した
	//──────────────────────────────
	//※無し
	//──────────────────────────────
	//▼③金闇の森へ向かうことにした
	//──────────────────────────────
	if( F2_00_GoForest )
	{
		set_chr( MONDRIAAN,53,	-1,-1,	 5190,-850,30,	 2,0, 20,"<TK_MONDRIAAN>")			//民家１　モンドレアン夫人
		EV("MOTION_MONDRIAAN_01")
		set_chr( CAT_A,483,	-1,-1,	 5039,-894,0,	11,260, 20,"<TK_CAT_A>")					//民家１　ミーちゃん(CAT_A)
		set_chr( CAT_B,484,	-1,-1,	 4710,-984,0,	 2,284, 20,"<TK_CAT_B>")					//民家１　ハッチー(CAT_B)
		EV("FREEMOVE_CAT_B")
		set_chr( CAT_C,485,	-1,-1,	4674,-507,0,	 2,284, 20,"<TK_CAT_C>")					//民家１　ショコラ(CAT_C)
		EV("FREEMOVE_CAT_C")
		//Name制御──────────────
		//ミーちゃん（猫）
		//ハッチー（猫）	
		//ショコラ（猫）	
			if(FV_FF_NameMe)
				chr_rename(CAT_A,"ミー")
			if(FV_FF_NameHatti)
				chr_rename(CAT_B,"ハッチー")
			if(FV_FF_NameShocora)
				chr_rename(CAT_C,"ショコラ")
		//──────────────────

		set_chr( COLIN,57,	-1,-1,	10240,-1131,0,	 2,179, 20,"<TK_COLIN>")					//民家３　コリン
		chr_equip2(COLIN,	"EQ_010",	"Bone_RightSword",	100,		0,70,0,	0,0,0);		//フライパン
		
		//モーション
		MOT_SET(COLIN,151,-1,512,512,-1,0)//フライパンをコンロに出している
		MOT(COLIN,151,0)

		F_set_chr(MONDRIAAN,CF_NO_MOVE)
		F_set_chr(CAT_A,CF_NO_MOVE)
		F_set_chr(COLIN,CF_NO_MOVE)
	}
	else
	//──────────────────────────────
	//▼②ロアルタ村へ向かうことにした
	//─────────────────────────────
	if( F1_15_GoVillage )
	{
		set_chr( COLIN,57,	-1,-1,	 10051,-1108,1,	 2,180, 20,"<TK_COLIN>")					//民家３　コリン
		look(COLIN,"Bone_Head",0,		0,0,10,			0,0,20)
		EV("MOTION_COLIN_02")
		F_set_chr(COLIN,CF_NO_MOVE)
	}
	else
	//──────────────────────────────
	//▼①城を取り戻すために行動を開始した
	//──────────────────────────────
	if( F1_01_GameStart )
	{
		set_chr( MONDRIAAN,53,	-1,-1,	 5190,-850,30,	 2,0, 20,"<TK_MONDRIAAN>")			//民家１　モンドレアン夫人
		EV("MOTION_MONDRIAAN_01")
	
		set_chr( CAT_A,483,	-1,-1,	 4816,-675,0,	 2,328, 20,"<TK_CAT_A>")					//民家１　ミーちゃん(CAT_A)
		EV("FREEMOVE_CAT_A")
		set_chr( CAT_B,484,	-1,-1,	 4710,-984,0,	 2,284, 20,"<TK_CAT_B>")					//民家１　ハッチー(CAT_B)
		EV("FREEMOVE_CAT_B")
		set_chr( CAT_C,485,	-1,-1,	4674,-507,0,	 2,284, 20,"<TK_CAT_C>")					//民家１　ショコラ(CAT_C)
		EV("FREEMOVE_CAT_C")
		set_chr( MAURICE,54,	-1,-1,	 -1000,173,1,	 2,156, 20,"<TK_MAURICE>")				//民家２　モーリス
		EV("FREEMOVE_MAURICE")
		F_set_chr(MONDRIAAN,CF_NO_MOVE)
	}

}
//====================================================================
//=== モーション処理 =================================================
//====================================================================
//待機モーション

//=======================================
//注視
//=======================================
LOOKING_RYPTON
{
	rot_chr(RYPTON,30,DOG)
	wait(10)
	loop
}

//──────────────────────────────
//モンドレアン夫人
//──────────────────────────────
MOTION_MONDRIAAN_01
{
	//モーション
	MOT_SET(MONDRIAAN,151,-1,560,560,-1,-1)		//モンドレアンが座ってる
	MOT(MONDRIAAN,151,0)
	F_set_chr(MONDRIAAN,CF_NO_HEIGHT)
	F_set_chr(MONDRIAAN,CF_NO_FALL)
}

//──────────────────────────────
//▼②コリン
//──────────────────────────────
MOTION_COLIN_02
{
	MOT_SET(COLIN,150,-1,537,537,151,15)
	MOT_SET(COLIN,151,-1,536,536,150,15)

	MOT(COLIN,150,0)
}

//====================================================================
//=== NPC処理 ===================================================
//====================================================================
//──────────────────────────────
//▼ミーちゃん・ハッチー・ショコラ	フリームーブ
//──────────────────────────────
FREEMOVE_CAT_A
{
	move( CAT_A, 25,	WALK1,	500,500,0,	200)
	wait_move( CAT_A )
	wait(50)
	loop
}
FREEMOVE_CAT_B
{
	move( CAT_B, 25,	WALK1,	500,500,0,	200)
	wait_move( CAT_B )
	wait(50)
	loop
}
FREEMOVE_CAT_C
{
	move( CAT_C, 25,	WALK1,	500,500,0,	200)
	wait_move( CAT_C )
	wait(50)
	loop
}

//──────────────────────────────
//▼クラーク（リプトンの犬）	フリームーブ
//──────────────────────────────
FREEMOVE_DOG
{
	move( DOG, 25,	WALK1,	500,500,0,	100)
	wait_move( DOG )
	wait(50)
	loop
}
//──────────────────────────────
//▼モーリス	フリームーブ
//──────────────────────────────
FREEMOVE_MAURICE
{
	move( MAURICE, 25,	6,	500,500,0,	200)
	wait_move( MAURICE )
	wait(50)
	loop
}

//──────────────────────────────
//▼ノートンのハト	フリームーブ
//──────────────────────────────
FREEMOVE_POPPO
{
	move( POPPO, 25,	WALK1,	500,500,0,	200)
	wait_move( POPPO )
	wait(50)
	loop
}


FREEMOVE_NIPPLE
{
	move( NIPPLE, 25,	WALK1,	600,600,0,	100)
	wait(50)
	loop
}

//====================================================================
//=== イベント処理 ===================================================
//====================================================================

#EndScriptTable
//====================================================================

