//====================================================================
//Xe[WgbvXNvg
//[16076][R|()]
//====================================================================

#ScriptTable

#PARTNER	255
#PET 		254
#RAGNA 		0

#PLAYER		252	//LN^[
#PLAYER2 	253	//LN^[

#MONTBLANC	2
#EVENT_RAGNA	3
#SUBARU			4
#DUMMY			5
#ALWEN			6
#POCKLE			7
#PIPIRO			8

#SPIRIT_A	10
#SPIRIT_B	11
#SPIRIT_C	12

#KAPPA		15

#ZIZOU_1	20
#ZIZOU_2	21
#ZIZOU_3	22
#ZIZOU_4	23

//--------------------------------------------------------------------
INIT
{
//SE
	SE(51,0)

//  -------  no typ   	  tip      x    y   z       mot        000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
map_color(68,68,98,0);//R,G,B, time 100%

//KiE

	set_chr( 90,990,	-1,-1,   -450,3000,-300,   	180,  1201, 6,"K9_10001;")	//@Gg tB[h

//	set_chr( 91,990,	-1,-1,   -100,-1330,0,  	330,050202, 6,"K0_16010;")	//@Gg 
	set_chr( 92,991,	-1,-1,   3344,-3040,337, 	 38,  1001, 6,"<EV_STOP_01>")	//@Gg K


	//n
	//	 	no/typ		tipW	 +W		  mot    EasyScript
	//n
	if( F4_04_OpenRoad )	//J	//fewBJx
	{
		set_chr(ZIZOU_1, 651, -1,-1, -286,-796,1,  0, 0,    3,"") 
		set_chr(ZIZOU_2, 651, -1,-1, -115,-911,1,  0,  0,    3,"") 
		set_chr(ZIZOU_3, 651, -1,-1,  224,-1139,1,  0,0,    3,"") 
		set_chr(ZIZOU_4, 651, -1,-1,  412,-1247,1,  0, 0,    3,"") 
	}
	else 					//JO
	{	//n
		set_chr(ZIZOU_1, 651, -1,-1, -286,-796,1,  0, 90,    3,"") 
		set_chr(ZIZOU_2, 651, -1,-1, -115,-911,1,  0,  0,    3,"") 
		set_chr(ZIZOU_3, 651, -1,-1,  224,-1139,1,  0,270,    3,"") 
		set_chr(ZIZOU_4, 651, -1,-1,  412,-1247,1,  0, 90,    3,"") 
	}
	F_set_chr(ZIZOU_1, CF_NO_CLIP)
	F_set_chr(ZIZOU_2, CF_NO_CLIP)
	F_set_chr(ZIZOU_3, CF_NO_CLIP)
	F_set_chr(ZIZOU_4, CF_NO_CLIP)
	F_set_chr(ZIZOU_1, CF_NO_CLIP2)
	F_set_chr(ZIZOU_2, CF_NO_CLIP2)
	F_set_chr(ZIZOU_3, CF_NO_CLIP2)
	F_set_chr(ZIZOU_4, CF_NO_CLIP2)


//Cxg

//L
	if( F4_04_OpenRoad )
	{
		mot_obj("rockgate", "open0")		//J
	}

	EV("EV_SnowFall")
}

//-------------------------------------------------------------------
EV_SnowFall
{
	EFF_chr(4292, 0, 0,100, -1, "charbase0" )
	wait( 50 )
	loop
}

//====================================================================
//=== Cxg ===================================================
//====================================================================
//

//@@RoB
EV_STOP_01
{

	TK_begin()

//	if( F4_09_GoShrineMia )
	//{
	move(PLAYER,0,RUN2,2644,-1934,0,200)
	//move(PLAYER2,0,RUN2,2644,-1934,0,50)
	move(PLAYER2,0,RUN2,2632,-1874,0,50)
	wait_move(PLAYER)
	wait_move(PLAYER2)

	if( !F_RAGNA )
	{
		if(GW_MAN==1)
		{
		//@@Oi
			MES(RAGNA,"嗯……",0)
			MES(RAGNA,"不是在@e\nf逛的r候了。",0)
			MES(RAGNA,"s快前去那座城堡吧。",0)
			MES_close(RAGNA)
		}
		else
		{
		//@@AEF
			MES(PARTNER,"唔……_下很滑呢……",0)
			MES(PARTNER,"不能在@e\n耽R下去了。",0)
			MES(PARTNER,"必要快s到我的穆普利城啊。",0)
			MES_close(PARTNER)
		}
		F_set(RAGNA)
	}
	//}

	TK_end()
}
//---------------------------------------------------------------------
//nXCb`
//SnpxijAJ
//U@
//px 0,270,270,180@PAAQASP@njBZW
//
EV_ZIZOU_CHECK
{
	if(WK001==0 && WK002==0 && WK003==0 && WK004==0)
	{
		EV("EV_4_06_OpenRoad")	//JCxgJn
		wait_EV("EV_4_06_OpenRoad")
	}
}
//---------------------------------------------------------------------
//--- n1 -----------------------------------------------------------
//n1An3An4
EV_ZIZOU_1
{
	TK_begin()
	EV("EV_ZIZOU_1b")
	EV("EV_ZIZOU_3b")
	EV("EV_ZIZOU_4b")	
	wait_EV("EV_ZIZOU_1b")
	wait_EV("EV_ZIZOU_3b")
	wait_EV("EV_ZIZOU_4b")
	
	//n`FbN
	EV("EV_ZIZOU_CHECK")
	wait_EV("EV_ZIZOU_CHECK")

	TK_end()
}
//---------------------------------------------------------------------
//--- n2 -----------------------------------------------------------
//n2An1An3
EV_ZIZOU_2
{
	TK_begin()
	EV("EV_ZIZOU_1b")
	EV("EV_ZIZOU_2b")
	EV("EV_ZIZOU_3b")	
	wait_EV("EV_ZIZOU_1b")
	wait_EV("EV_ZIZOU_2b")
	wait_EV("EV_ZIZOU_3b")
	
	//n`FbN
	EV("EV_ZIZOU_CHECK")
	wait_EV("EV_ZIZOU_CHECK")
	TK_end()
}
//---------------------------------------------------------------------
//--- n3 -----------------------------------------------------------
//n2An3An4
EV_ZIZOU_3
{
	TK_begin()
	EV("EV_ZIZOU_2b")
	EV("EV_ZIZOU_3b")
	EV("EV_ZIZOU_4b")	
	wait_EV("EV_ZIZOU_2b")
	wait_EV("EV_ZIZOU_3b")
	wait_EV("EV_ZIZOU_4b")	
	
	//n`FbN
	EV("EV_ZIZOU_CHECK")
	wait_EV("EV_ZIZOU_CHECK")

	TK_end()
}
//---------------------------------------------------------------------
//--- n4 -----------------------------------------------------------
//n4An1An2
EV_ZIZOU_4
{
	TK_begin()
	EV("EV_ZIZOU_1b")
	EV("EV_ZIZOU_2b")
	EV("EV_ZIZOU_4b")	
	wait_EV("EV_ZIZOU_1b")
	wait_EV("EV_ZIZOU_2b")
	wait_EV("EV_ZIZOU_4b")	
	
	//n`FbN
	EV("EV_ZIZOU_CHECK")
	wait_EV("EV_ZIZOU_CHECK")

	TK_end()
}

//nP]
EV_ZIZOU_1b
{
	if(WK001==0)
	{
		rot(ZIZOU_1, 30, 270)
		workL(1,SET,27)		
	
//		MES(ZIZOU_1,"px270",0)
	}
	else
	if(WK001==9)
	{
		rot(ZIZOU_1, 30, 0)
		workL(1,SET,0)
			
//		MES(ZIZOU_1,"px000",0)
	}
	else
	if(WK001==18)
	{
		rot(ZIZOU_1, 30, 90)
		workL(1,SET,9)	
		
//		MES(ZIZOU_1,"px090",0)
	}
	else
	if(WK001==27)
	{
		rot(ZIZOU_1, 30, 180)
		workL(1,SET,18)
//		MES(ZIZOU_1,"px180",0)

	}
	else
	{
		MES(ZIZOU_1,"角度？",0)
	}
	MES_close(ZIZOU_1)	
	
	wait(30)
}

//nQ]
EV_ZIZOU_2b
{
	EMO(ZIZOU_2, EMO_BIKKURI)
	if(WK002==0)
	{
		rot(ZIZOU_2, 30, 270)
		workL(2,SET,27)	
	}
	else
	if(WK002==9)
	{
		rot(ZIZOU_2, 30, 360)
		workL(2,SET,0)
	}
	else
	if(WK002==18)
	{
		rot(ZIZOU_2, 30, 90)
		workL(2,SET,9)
	}
	else
	if(WK002==27)
	{
		rot(ZIZOU_2, 30, 180)
		workL(2,SET,18)
	}
	else
	{
		MES(ZIZOU_2,"角度？",0)

	}
	MES_close(ZIZOU_2)		
	wait(30)
}

//nR]
EV_ZIZOU_3b
{
	EMO(ZIZOU_3, EMO_BIKKURI)
	if(WK003==0)
	{
		rot(ZIZOU_3, 30, 270)
		workL(3,SET,27)	
	}
	else
	if(WK003==9)
	{
		rot(ZIZOU_3, 30, 0)
		workL(3,SET,0)
	}
	else
	if(WK003==18)
	{
		rot(ZIZOU_3, 30, 90)
		workL(3,SET,9)	
	}
	else
	if(WK003==27)
	{
		rot(ZIZOU_3, 30, 180)
		workL(3,SET,18)
	}
	else
	{
		MES(ZIZOU_3,"角度？",0)
		MES_close(ZIZOU_3)	
	}
	wait(30)
}

//nS]
EV_ZIZOU_4b
{
	if(WK004==0)
	{
		rot(ZIZOU_4, 30, 270)
		workL(4,SET,27)	
	}
	else
	if(WK004==9)
	{
		rot(ZIZOU_4, 30, 0)
		workL(4,SET,0)
	}
	else
	if(WK004==18)
	{
		rot(ZIZOU_4, 30, 90)
		workL(4,SET,9)	
	}
	else
	if(WK004==27)
	{
		rot(ZIZOU_4, 30, 180)
		workL(4,SET,18)
	}
	else
	{
		MES(ZIZOU_4,"角度？",0)
		MES_close(ZIZOU_4)	
	}
	wait(30)
}

#EndScriptTable
//====================================================================

