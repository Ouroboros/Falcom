//====================================================================
//Xe[WgbvXNvg
//[10492][CsQf]
//====================================================================

#ScriptTable

#KAPPA		10

//--------------------------------------------------------------------
// [JtO
// 200 M~bNJn
// 201 JbpS[tO
// 202 JbpbdNh~tO

INIT
{
//SE
	SE(51,0)

//  set_chr  no typ tip    x    y   z    		mot   	  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
//KiE
	set_chr( 90,991,-1,-1, -215,-16541,29953,	180,0,		0,";")	//@Gg 
//	set_chr( 91,990,-1,-1, 82,59002,-806,		0,	4010,	6,"K2_16000;")	//@Gg 
//	set_chr( 92,990,	-1,-1,    -55, 44200, -1500,	 0,6050, 6,"K2_16000;")	//Gg 
//	set_chr( 93,990,	-1,-1,    107, 48800, -2500,	 0,6050, 6,"K2_16000;")	//Gg 
	set_chr( 91,990,	-1,-1,    159, 55239,  -800,	 0,4010, 6,"<EV_GOAL>;")	//Gg S[
	set_chr( 92,990,	-1,-1,    -55, 44200, -1500,	 0,6050, 6,"<EV_FALL>;")	//Gg 
	set_chr( 93,990,	-1,-1,    107, 48800, -2500,	 0,6050, 6,"<EV_FALL>;")	//Gg 

	set_chr( 94,990,	 0, 0,      0,      0,    0,	  0, 0 , 8,"(<EV_Snow> WT?50)")	//GtFNg[vp

//	set_chr( 90,990,	-1,-1,   -450,3000,-300,   	180,  1201,	6,"K9_10000;")	//@Gg tB[h
//	set_chr( 91,990,	-1,-1,   -100,-1330,0,  	330,050202,	6,"K0_16010;")	//@Gg 
//	set_chr( 92,990,	-1,-1,   4950,-11700, 1850, 345,  1001,	6,"K0_16010;")	//@Gg K

	set_chr( KAPPA,80,	-1,-1,   -216,-15695, 29797,	180,  0, 6,"<SE_KAPPA>")

//njE
	set_chr( 40,808,	-1,-1,   -501,-11442, 28223,	  3,180, 0,";")	//gQ
	set_chr( 41,802,	-1,-1,    721,-11330, 28194,	  3,180, 0,";")	//
	set_chr( 42,802,	-1,-1,   -619, -9145, 26624,	  3,180, 0,";")	//

	set_chr( 43,808,	-1,-1,    267, -6790, 25280,	  3,180, 0,";")	//gQ
	set_chr( 44,634,	-1,-1,     -6, -6753, 25203,	  0,180, 0,";")	//
	set_chr( 45,808,	-1,-1,   -281, -6792, 25282,	  3,180, 0,";")	//gQ

	set_chr( 46,667,	-1,-1,    614, -1800, 23300,	  3, 90, 8,"F200 (X2_-1500 T6_99 X2_1500 T2_99);")	//
	set_chr( 47,634,	-1,-1,    -64, -3701, 23443,	  3,  0, 8,"F200 (Y2_-500 T4_99 Y2_500 T0_99);")	//

	set_chr( 48,634,	-1,-1,    461,  1037, 20033,	  3,  0, 8,"F200 (X2_-1000 T5_99 X2_1000 T3_99);")	//

	set_chr( 49,624,	-1,-1,   -108,  4156, 17766,	  3,180, 0,";")	//]n
	set_chr( 50,624,	-1,-1,    269,  4260, 17826,	  3,180, 0,";")	//]n
	set_chr( 51,624,	-1,-1,   -518,  4290, 17821,	  3,180, 0,";")	//]n

	set_chr( 52,802,	-1,-1,  -1311,  6701, 16994,	  3,180, 0,";")	//

//	set_chr( 53,802,	-1,-1,  -2819,  8430, 15974,	  3,180, 0,";")	//
	set_chr( 53,802,	-1,-1,  -2926,  8511, 15949,	  3,180, 0,";")	//

	set_chr( 54,808,	-1,-1,    346, 13071, 14294,	  3,180, 0,";")	//gQ
	set_chr( 55,634,	-1,-1,   -417, 13109, 14399,	  3,180, 8,"F200 (R8_50);")	//

	//oP[hXA^b`
	set_chr( 56,632,	-1,-1,   2126,  7483, 16810,	  0,160, 0,";")	//oP[h
	set_chr( 57,632,	-1,-1,   2778,  7262, 16889,	  0,160, 0,";")	//oP[h
	set_chr( 58,990,	-1,-1,   2126,  7483, 16810,	  0,  0, 0,"")	// _~[ 
	set_chr( 59,990,	-1,-1,   2778,  7262, 16889,	  0,  0, 0,"")	// _~[ 
		chr_equip_chr(56, 58, "TG1",100,  0,  7,160,  0,0,10);
		chr_equip_chr(57, 59, "TG1",100,  0,-15,150,  0,0,30);

	set_chr( 60,808,	-1,-1,   1353, 17990, 12320,	  3,180, 0,";")	//gQ
	set_chr( 61,634,	-1,-1,   1633, 17989, 12292,	  3,180, 8,"F200 (R8_50);")	//
	set_chr( 62,808,	-1,-1,   1633, 17989, 12552,	  3,180, 0,";")	//gQ
	set_chr( 63,808,	-1,-1,   1932, 17976, 12236,	  3,180, 0,";")	//gQ

	set_chr( 64,634,	-1,-1,   1633, 18434, 12098,	  3,180, 0,";")	//

//	set_chr( 65,634,	-1,-1,   1230, 22256, 10596,	  3,180, 0,";")	//
//	set_chr( 66,634,	-1,-1,    950, 22352, 10528,	  3,180, 0,";")	//
//	set_chr( 67,634,	-1,-1,    652, 22445, 10465,	  3,180, 0,";")	//

	set_chr( 65,634,	-1,-1,   1230, 22256, 10596,	  3,180, 0,";")	//
	set_chr( 66,634,	-1,-1,    972, 22367, 10529,	  3,180, 0,";")	//
	set_chr( 67,634,	-1,-1,    665, 22477, 10458,	  3,180, 0,";")	//

	set_chr( 68,624,	-1,-1,  -1379, 25186,  9875,	  3,180, 0,";")	//]n
	set_chr( 69,634,	-1,-1,  -1202, 24657,  9971,	  3,180, 8,"F200 (R8_50);")	//

	set_chr( 70,624,	-1,-1,  -2006, 30868,  8177,	  3,180, 0,";")	//]n
	set_chr( 71,634,	-1,-1,  -2006, 30868,  8527,	  3,180, 0,";")	//

	set_chr( 72,634,	-1,-1,   -909, 31990,  7831,	  3,180, 0,";")	//

//set_chr( 43,672,	-1,-1,   -456, -2046, 23131,	  0,180, 6,"<EV_JUMP>;")	//Wv

	set_chr( 73,634,	-1,-1,   -75,35355,5840,	  3,180, 0,";")	//
	set_chr( 74,808,	-1,-1,   -75,35355,6000,	  3,180, 8,"F200 (R5_400);")	//gQ
	set_chr( 75,808,	-1,-1,   -75,35355,6000,	  3,180, 8,"F200 WT?22(R5_400);")	//gQ
	set_chr( 76,808,	-1,-1,   -75,35355,6000,	  3,180, 8,"F200 WT?45(R5_400);")	//gQ
	set_chr( 77,808,	-1,-1,   -75,35355,6000,	  3,180, 8,"F200 WT?67(R5_400);")	//gQ

	set_chr( 78,667,	-1,-1,    -10, 42999,  3335,	  3,180, 0,";")	//

	set_chr( 79,634,	-1,-1,   -811, 42480,  3369,	  0,180, 0,";")	//
	set_chr( 80,634,	-1,-1,   -446, 44763,  2693,	  0,180, 0,";")	//
	set_chr( 81,634,	-1,-1,    461, 49020,  1365,	  0,180, 0,";")	//
	set_chr( 82,634,	-1,-1,   1385,  51441,  607,	  0,180, 0,";")	//

//H
	set_chr( 85,667,	-1,-1,    -30,  6509, 17328,	  1,180, 0,";")	//
	set_chr( 86,667,	-1,-1,    -30,  6509, 17658,	  1,180, 0,";")	//
	set_chr( 87,808,	-1,-1,     30,  6369, 17618,	  0,180, 0,";")	//gQ
	set_chr( 88,808,	-1,-1,    -90,  6369, 17618,	  0,180, 0,";")	//gQ
		chr_equip2( 86,	"EQ_103",	"root",200,	  0,-10,  0,	   0,   0,100);
		chr_equip2( 85,	"EQ_101",	"root",150,	  0,180,140,	 200,-100, 70);
		chr_equip2( 85,	"EQ_015",	"root",140,	100,-10,270,	-240,-100,150);

	//--------------------------------------------------------------------
	//c{njnj
	F_set_chr(40,CF_NO_CLIP) //
	F_set_chr(43,CF_NO_CLIP) //
	F_set_chr(45,CF_NO_CLIP) //
	F_set_chr(46,CF_NO_CLIP) //
	F_set_chr(49,CF_NO_CLIP) //
	F_set_chr(50,CF_NO_CLIP) //
	F_set_chr(51,CF_NO_CLIP) //
	F_set_chr(54,CF_NO_CLIP) //
	F_set_chr(56,CF_NO_CLIP) //
	F_set_chr(57,CF_NO_CLIP) //
	F_set_chr(60,CF_NO_CLIP) //
	F_set_chr(62,CF_NO_CLIP) //
	F_set_chr(63,CF_NO_CLIP) //
	F_set_chr(68,CF_NO_CLIP) //
	F_set_chr(70,CF_NO_CLIP) //
	F_set_chr(74,CF_NO_CLIP) //
	F_set_chr(75,CF_NO_CLIP) //
	F_set_chr(76,CF_NO_CLIP) //
	F_set_chr(77,CF_NO_CLIP) //
	F_set_chr(78,CF_NO_CLIP) //
	F_set_chr(85,CF_NO_CLIP) //
	F_set_chr(86,CF_NO_CLIP) //
	F_set_chr(87,CF_NO_CLIP) //
	F_set_chr(88,CF_NO_CLIP) //
	//--------------------------------------------------------------------

//Cxg

	if(GW_ENTRY_EVENT==1)
	{
		set_namebmp(0,0)	//		OBMP init(0,0)\@type=0n

		workG(GW_ENTRY_EVENT,SET,0)

		workG(GW_NOW_ROUTE,SET,78)	//U[g
		workL(WK_ROUTETIME_STOP,SET,1)	// XRAv~

		if(GW_SKI_COUNT3<255)
		{
			workG(GW_SKI_COUNT3,ADD,1)	//vC
		}

		F_set_chr(PLAYER1,CF_NO_DEAD) ////go0@L0S"EV_DEAD"
		//[v
		workG(GW_WARP_FLAG,SET,0)//[vB

		//JbpQ[AnI
		EV("EV_KappaGame")
	}

}

// ~
EV_Snow
{
	//vC[o
	EFF_chr(4109,0,0,100,0,"Bone_Hips")//	wL,nodeuGtFNgB	tgChGtFNgB
}


EV_KappaGame
{
	TK_begin()

	//]
	fade_in(100,1,0)
	wait_fade()

//	chr_pos(RAGNA,-215,-16541,29953,0,41)
//	chr_pos(RAGNA,-170,-15493,29729,0,41)
	chr_pos(RAGNA,-241,-15957,29753,0,41)
	rot(KAPPA,100,180)

	//tF[hC
	fade_in(0,120,0)
	wait_fade()

//
//XL[}bvCxg
//@@XL[}bvAJnn_tF[hCB
//@@Oi[hX^oCB
//@@OAJbpB

	MES(KAPPA,"那N快c_始吧。",0)
	MES(KAPPA,"早就浜昧恕",0)
	MES_close(KAPPA)

//@@JbpAeB
	rot_chr(KAPPA,30,RAGNA)
	move(KAPPA,0,20,-602,-15660,29779,0)

	wait_move(KAPPA)
	rot_chr(KAPPA,30,PLAYER1)

//@@RcQcPccJEg_EsA
//@@^C~OBiQ[X^[gj

//	EMO(KAPPA,EMO_ONPU)
//	MES(KAPPA,"RcQcPcc",0)

	EFF(21670,320,240,0,0,100,0)//START
	EV("EV_START_SE")//JEg_ESE
	wait(100)

//@@AbZ[W\B
	EV("MOTION_KAPPA")
	EV("SERIHU_KAPPA")

	SCORE(0,0,0)	//XRA
	workL(WK_ROUTETIME_STOP,SET,0)	// XRAvJn
	workL(WK_DRAW_SCORE,SET,1)	// XRA\Jn
	workG(GW_SKI_MODE,SET,3)	// LV3

	workG(GW_ENTRY_EVENT,SET,6)	// u6=XL[s()vZbg

	F_set(200)	//M~bNJn
	TK_end()
}


// JbpG
SE_KAPPA
{
	if(!F202)
	{
		F_set(202)
		MES_pos(KAPPA,"快，_始_始！",0,320,200,0,0)	//
		wait(30)		
		MES_close(KAPPA)
		F_reset(202)
	}
}

MOTION_KAPPA
{
	MOT_SET(KAPPA,151,151,461,461,-1,-1)	//
	MOT_SET(KAPPA,152,152,463,463,-1,-1)	//
	MOT(KAPPA,152,10)
	wait(10)
	MOT(KAPPA,151,6)
	wait(6)
	MOT(KAPPA,152,6)
	wait(6)

	MOT(KAPPA,151,6)
	wait(6)
	MOT(KAPPA,152,6)
	wait(6)
	MOT(KAPPA,151,6)
	wait(6)
	MOT(KAPPA,152,6)
	wait(6)

	MOT(KAPPA,2,10)

}

SERIHU_KAPPA
{
	MES_pos(KAPPA,"A洌_始。",0,0,0,0,0)
	wait(20)
	MES_close(KAPPA)
}

EV_START_SE//JEg_ESE
{
	wait(15)
	SE(46,0)
	wait(30)
	SE(46,0)
	wait(30)
	SE(46,0)
	wait(30)
	SE(47,0)
}

//--------------------------------------------------------------------
// S[
//--------------------------------------------------------------------
EV_GOAL
{
	workL(WK_ROUTETIME_STOP,SET,1)	// XRAv~

//	EV_begin()

	EFF(21690,320,240,0,0,100,0)//GOAL
	SE(24,0)
	CAM_Type(1)

	if(GW_SKI_DOWN==3)		// x_ER
	{
		if(GW_NOW_BREAK>=5 && GW_NOW_DAM<=5 && SP003<4200)
		{
			//BS[h
			workG(GW_ENTRY_EVENT,SET,3)		//S[h
		}
		else
		if(SP003>4200)						//70b=70*60sec
		{
			//I[o[
			workG(GW_ENTRY_EVENT,SET,10)	//10=XL[s(^C)
		}
		else
		if(GW_NOW_DAM>5)
		{
			//_[W
			workG(GW_ENTRY_EVENT,SET,9)		//9=XL[s(_[W)
		}
		else
		if(GW_NOW_BREAK<1)
		{
			//@[
			workG(GW_ENTRY_EVENT,SET,12)	//12=XL[s(c{A[)
		}
		else
		if(GW_NOW_BREAK<3)
		{
			//@
			workG(GW_ENTRY_EVENT,SET,11)	//11=XL[s(c{A)
		}
		else
		{
			//@
			workG(GW_ENTRY_EVENT,SET,8)		//8=XL[s(c{A)
		}
	}
	else
	if(GW_SKI_DOWN==2)		// x_EQ
	{
		if(GW_NOW_BREAK>=13 && GW_NOW_DAM<=3 && SP003<3600)
		{
			//BS[h
			workG(GW_ENTRY_EVENT,SET,3)		//S[h
		}
		else
		if(SP003>3600)						//60b=60*60sec
		{
			//I[o[
			workG(GW_ENTRY_EVENT,SET,10)	//10=XL[s(^C)
		}
		else
		if(GW_NOW_DAM>3)
		{
			//_[W
			workG(GW_ENTRY_EVENT,SET,9)		//9=XL[s(_[W)
		}
		else
		if(GW_NOW_BREAK<1)
		{
			//@[
			workG(GW_ENTRY_EVENT,SET,12)	//12=XL[s(c{A[)
		}
		else
		if(GW_NOW_BREAK<11)
		{
			//@
			workG(GW_ENTRY_EVENT,SET,11)	//11=XL[s(c{A)
		}
		else
		{
			//@
			workG(GW_ENTRY_EVENT,SET,8)		//8=XL[s(c{A)
		}
	}
	else
	if(GW_SKI_DOWN==1)		// x_EP
	{
		if(GW_NOW_BREAK>=17 && GW_NOW_DAM<=1 && SP003<3300)
		{
			//BS[h
			workG(GW_ENTRY_EVENT,SET,3)		//S[h
		}
		else
		if(SP003>3300)						//55b=55*60sec
		{
			//I[o[
			workG(GW_ENTRY_EVENT,SET,10)	//10=XL[s(^C)
		}
		else
		if(GW_NOW_DAM>1)
		{
			//_[W
			workG(GW_ENTRY_EVENT,SET,9)		//9=XL[s(_[W)
		}
		else
		if(GW_NOW_BREAK<1)
		{
			//@[
			workG(GW_ENTRY_EVENT,SET,12)	//12=XL[s(c{A[)
		}
		else
		if(GW_NOW_BREAK<15)
		{
			//@
			workG(GW_ENTRY_EVENT,SET,11)	//11=XL[s(c{A)
		}
		else
		{
			//@
			workG(GW_ENTRY_EVENT,SET,8)		//8=XL[s(c{A)
		}
	}
	else
	{
		if(GW_NOW_BREAK==21 && GW_NOW_DAM==0 && SP003<3000)
		{
			//BS[h
			workG(GW_ENTRY_EVENT,SET,3)		//S[h
		}
		else
		if(SP003>3000)						//50b=60*50sec
		{
			//I[o[
			workG(GW_ENTRY_EVENT,SET,10)	//10=XL[s(^C)
		}
		else
		if(GW_NOW_DAM!=0)
		{
			//_[W
			workG(GW_ENTRY_EVENT,SET,9)		//9=XL[s(_[W)
		}
		else
		if(GW_NOW_BREAK<1)
		{
			//@[
			workG(GW_ENTRY_EVENT,SET,12)	//12=XL[s(c{A[)
		}
		else
		if(GW_NOW_BREAK<19)
		{
			//@
			workG(GW_ENTRY_EVENT,SET,11)	//11=XL[s(c{A)
		}
		else
		{
			//@
			workG(GW_ENTRY_EVENT,SET,8)		//8=XL[s(c{A)
		}
	}



	//]
	fade_in(100,60,0)
	wait_fade()

	CAM_Type(0)

	//R
	EV("EV_GOTO_MOUNTAIN")
}

//--------------------------------------------------------------------
// S
//--------------------------------------------------------------------

EV_DEAD
{
	EV_begin()

	//]
	fade_in(100,60,0)
	wait_fade()

	workG(GW_ENTRY_EVENT,SET,7)	//sS

	//R
	EV("EV_GOTO_MOUNTAIN")
}

//--------------------------------------------------------------------
// 
//--------------------------------------------------------------------

EV_FALL
{
	//]
	fade_in(100,30,0)
	wait_fade()

	workG(GW_ENTRY_EVENT,SET,6)	// u6=XL[s()v

	//R
	EV("EV_GOTO_MOUNTAIN")
}

//////////////////////////////////////////////////////////////////////
// p[eB[R

EV_GOTO_MOUNTAIN
{
	F_reset_chr(PLAYER1,CF_NO_DEAD)
	set_hp(PLAYER1,100)//S

	if(GW_SKI_PARTNER==5)
	{
		join_party(5)	//IfbT
	}
	else if(GW_SKI_PARTNER==12)
	{
		join_party(12)	//IfbT
	}
	else if(GW_SKI_PARTNER==13)
	{
		join_party(13)	//IfbT
	}
	else if(GW_SKI_PARTNER==6)
	{
		join_party(6)	//Xo
	}
	else if(GW_SKI_PARTNER==1)
	{
		join_party(1)	//AEF
	}

	workG(GW_NOW_ROUTE,SET,0)	//U[gNA
	new_map(16000)
}

#EndScriptTable
//====================================================================

