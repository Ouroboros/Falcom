//====================================================================
//ƒXƒe[ƒWƒgƒ‰ƒbƒvƒXƒNƒŠƒvƒg
//[10490][Csê‚ÆŒ¾‚¤–¼‚ÌƒQƒŒƒ“ƒf]
//====================================================================

#ScriptTable

#KAPPA		10

//--------------------------------------------------------------------


//--------------------------------------------------------------------
//ƒ[ƒJƒ‹ƒtƒ‰ƒO
// 200 ƒMƒ~ƒbƒNŠJn
// 201 ƒJƒbƒpƒS[ƒ‹”»’èƒtƒ‰ƒO
// 202 ƒJƒbƒp‰ï˜b‘½d‹N“®–h~ƒtƒ‰ƒO

INIT
{
//ŠÂ‹«SE
	SE(51,0)

//  set_chr  no typ tip    x    y   z    		mot  Œü 	ó  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
//¡ŠK’iE”à
	set_chr( 90,991,-1,-1, -215,-16541,29953,	180,0,		0,";")	//‡@ƒGƒ“ƒgƒŠ 
//	set_chr( 91,990,-1,-1, 82,59002,-806,		0,	4010,	6,"K2_16000;")	//‡@ƒGƒ“ƒgƒŠ 
//	set_chr( 92,990,	-1,-1,    -55, 44200, -1500,	 0,6050, 6,"K2_16000;")	//ƒGƒ“ƒgƒŠ “Ş—
//	set_chr( 93,990,	-1,-1,    107, 48800, -2500,	 0,6050, 6,"K2_16000;")	//ƒGƒ“ƒgƒŠ “Ş—
	set_chr( 91,990,	-1,-1,    159, 55239,  -800,	 0,4010, 6,"<EV_GOAL>;")	//ƒGƒ“ƒgƒŠ ƒS[ƒ‹
	set_chr( 92,990,	-1,-1,    -55, 44200, -1500,	 0,6050, 6,"<EV_FALL>;")	//ƒGƒ“ƒgƒŠ “Ş—
	set_chr( 93,990,	-1,-1,    107, 48800, -2500,	 0,6050, 6,"<EV_FALL>;")	//ƒGƒ“ƒgƒŠ “Ş—

	set_chr( 94,990,	 0, 0,      0,      0,    0,	  0, 0 , 8,"(<EV_Snow> WT?50)")	//ƒGƒtƒFƒNƒgƒ‹[ƒvÄ¶—p

//	set_chr( 90,990,	-1,-1,   -450,3000,-300,   	180,  1201,	6,"K9_10000;")	//‡@ƒGƒ“ƒgƒŠ ƒtƒB[ƒ‹ƒh
//	set_chr( 91,990,	-1,-1,   -100,-1330,0,  	330,050202,	6,"K0_16010;")	//‡@ƒGƒ“ƒgƒŠ “üŒû•ªŠò
//	set_chr( 92,990,	-1,-1,   4950,-11700, 1850, 345,  1001,	6,"K0_16010;")	//‡@ƒGƒ“ƒgƒŠ âã“K“–

	set_chr( KAPPA,80,	-1,-1,   -216,-15695, 29797,	180,  0, 6,"<SE_KAPPA>")

//¡ƒnƒjƒE’Ù

	set_chr( 40,802,	-1,-1,     43, -7089, 25329,	  0,180, 0,";")	//’Ù
	set_chr( 41,802,	-1,-1,     47, -2041, 23106,	  0,180, 0,";")	//’Ù

	set_chr( 42,634,	-1,-1,     17,  3143, 18398,	  0,180, 0,";")	//‚Í‚É‚í
	set_chr( 43,634,	-1,-1,     11,  3515, 18154,	  0,180, 0,";")	//‚Í‚É‚í
	set_chr( 44,634,	-1,-1,     -5,  3871, 17910,	  0,180, 0,";")	//‚Í‚É‚í
	set_chr( 45,634,	-1,-1,    -42,  4243, 17741,	  0,180, 0,";")	//‚Í‚É‚í
	set_chr( 46,634,	-1,-1,   -100,  4669, 17568,	  0,180, 0,";")	//‚Í‚É‚í
	set_chr( 47,634,	-1,-1,   -230,  5040, 17452,	  0,180, 0,";")	//‚Í‚É‚í

	set_chr( 48,802,	-1,-1,  -2498,  7629, 16728,	  0,180, 0,";")	//’Ù
	set_chr( 49,802,	-1,-1,  -2514, 10172, 15529,	  0,180, 0,";")	//’Ù

	set_chr( 50,634,	-1,-1,    316, 13230, 14230,	  0,180, 0,";")	//‚Í‚É‚í
	set_chr( 51,634,	-1,-1,    316, 13230, 14330,	  0,180, 0,";")	//‚Í‚É‚í
	set_chr( 52,634,	-1,-1,    316, 13230, 14430,	  0,180, 0,";")	//‚Í‚É‚í

	set_chr( 53,802,	-1,-1,   1526, 17658, 12369,	  0,180, 0,";")	//’Ù

	set_chr( 54,802,	-1,-1,   3040, 20091, 11324,	  0,180, 0,";")	//’Ù

	set_chr( 55,802,	-1,-1,   -303, 24388,  9919,	  0,180, 0,";")	//’Ù

	set_chr( 56,802,	-1,-1,  -2198, 27466,  9061,	  0,180, 0,";")	//’Ù
	set_chr( 57,802,	-1,-1,  -2503, 28339,  8817,	  0,180, 0,";")	//’Ù

	set_chr( 58,802,	-1,-1,  -2696, 30629,  8308,	  0,180, 0,";")	//’Ù
	set_chr( 59,802,	-1,-1,  -2468, 30837,  8243,	  0,180, 0,";")	//’Ù
	set_chr( 60,802,	-1,-1,  -2151, 31111,  8168,	  0,180, 0,";")	//’Ù

	set_chr( 61,802,	-1,-1,    909, 33075,  7333,	  0,180, 0,";")	//’Ù
	set_chr( 62,802,	-1,-1,   -411, 36248,  5437,	  0,180, 0,";")	//’Ù
	set_chr( 63,802,	-1,-1,    199, 38876,  4341,	  0,180, 0,";")	//’Ù

	set_chr( 64,802,	-1,-1,   -200, 42768,  3223,	  0,180, 0,";")	//’Ù
	set_chr( 65,802,	-1,-1,     42, 44621,  2721,	  0,180, 0,";")	//’Ù
	set_chr( 66,802,	-1,-1,      5, 47106,  1923,	  0,180, 0,";")	//’Ù
	set_chr( 67,802,	-1,-1,     -7, 49791,  1096,	  0,180, 0,";")	//’Ù

	set_chr( 80,667,	-1,-1,    -30,  6509, 17328,	  1, 90, 0,";")	//á‹Ê

	//--------------------------------------------------------------------
	//ƒcƒ{‚Æƒnƒjƒ‚Í©“®‚Å‚n‚j
	F_set_chr(80,CF_NO_CLIP) //Œ©‚¦‚é‚æ‚¤‚É‚·‚é
	//--------------------------------------------------------------------

//¡ƒCƒxƒ“ƒg
	if(GW_ENTRY_EVENT==1)
	{
		set_namebmp(0,0)	//		–¼‘OBMP§Œä init(0,0)‚Å”ñ•\¦@type=0’n–¼

		workG(GW_ENTRY_EVENT,SET,0)

		workG(GW_NOW_ROUTE,SET,76)	//U—ª’†ƒ‹[ƒg
		workL(WK_ROUTETIME_STOP,SET,1)	// ƒXƒRƒAŒv‘ª’â~

		if(GW_SKI_COUNT1<255)
		{
			workG(GW_SKI_COUNT1,ADD,1)	//ƒvƒŒƒC‰ñ”
		}

		F_set_chr(PLAYER1,CF_NO_DEAD) ////‚g‚o0‚Å‚àÁ‚¦‚È‚¢@ƒLƒƒƒ‰0‚Í€–S‚É"EV_DEAD"‚ğÄ¶
		//ƒ[ƒv••‚¶
		workG(GW_WARP_FLAG,SET,0)//ƒ[ƒv••‚¶‚éB

		//ƒJƒbƒpƒQ[ƒ€An‚ß‚é‚æI
		EV("EV_KappaGame")
	}

}

// á‚ğ~‚ç‚¹‚é
EV_Snow
{
	//ƒvƒŒƒCƒ„[‚©‚çŠŠ‹ó‚Ìá‚ğo‚·
	EFF_chr(4109,0,0,100,0,"Bone_Hips")//	w’èƒLƒƒƒ‰,nodeˆÊ’u‚©‚çƒGƒtƒFƒNƒgÄ¶B	í—Ş‚É‚æ‚Á‚ÄtgCh‚ÉŒü‚©‚Á‚ÄƒGƒtƒFƒNƒg‚ğ”­ËB
}

EV_KappaGame
{
	TK_begin()

	//ˆÃ“]
	fade_in(100,1,0)
	wait_fade()

//	chr_pos(RAGNA,-215,-16541,29953,0,41)
//	chr_pos(RAGNA,-170,-15493,29729,0,41)
	chr_pos(RAGNA,-241,-15957,29753,0,41)
	rot(KAPPA,100,180)

	//ƒtƒF[ƒhƒCƒ“
	fade_in(0,80,0)
//	wait_fade()
	wait(40)

//„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ
//¥ƒXƒL[ƒ}ƒbƒv‚ÌƒCƒxƒ“ƒg
//@@ƒXƒL[ƒ}ƒbƒvAŠJn’n“_‚ÉƒtƒF[ƒhƒCƒ“‚·‚éB
//@@ƒ‰ƒOƒi‚ªŠŠ‹óƒ‚[ƒh‚É‚È‚Á‚ÄƒXƒ^ƒ“ƒoƒC‚µ‚Ä‚¢‚éB
//@@‚»‚Ì‘O‚ÉAƒJƒbƒp‚ª—§‚Á‚Ä‚¢‚éB

	MES(KAPPA,"ÄÇüN¿ìücé_Ê¼°É¡£",0)
	MES(KAPPA,"Ôç¾ÍœÊ‚äºÃÁË¡£",0)
	MES_close(KAPPA)

//@@ƒJƒbƒpA˜e‚É‚Ç‚­B
	rot_chr(KAPPA,30,RAGNA)
	move(KAPPA,0,20,-602,-15660,29779,0)

	wait_move(KAPPA)
	rot_chr(KAPPA,30,PLAYER1)

//@@‚Rc‚Qc‚Pcc‚ÌƒJƒEƒ“ƒgƒ_ƒEƒ“‚ğs‚¢A
//@@ƒ^ƒCƒ~ƒ“ƒO‚Æ‹¤‚É‘€ì‹–‰Â‚ğ–ß‚·BiƒQ[ƒ€ƒXƒ^[ƒgj

//	EMO(KAPPA,EMO_ONPU)
//	MES(KAPPA,"‚Rc‚Qc‚Pcc",0)

	EFF(21670,320,240,0,0,100,0)//START
	EV("EV_START_SE")//ƒJƒEƒ“ƒgƒ_ƒEƒ“SE
	wait(100)

//@@‚»‚ê‚Æ“¯‚ÉAˆÈ‰º‚ÌƒƒbƒZ[ƒW‚ğ•\¦‚·‚éB
	EV("MOTION_KAPPA")
	EV("SERIHU_KAPPA")

	SCORE(0,0,0)	//ƒXƒRƒA‰Šú‰»
	workL(WK_ROUTETIME_STOP,SET,0)	// ƒXƒRƒAŒv‘ªŠJn
	workL(WK_DRAW_SCORE,SET,1)	// ƒXƒRƒA•\¦ŠJn
	workG(GW_SKI_MODE,SET,1)	// LV1

	workG(GW_ENTRY_EVENT,SET,6)	// u6=ƒXƒL[¸”s(“Ş—)v‚ğæ‚ÉƒZƒbƒg

	F_set(200)	//ƒMƒ~ƒbƒNŠJn
	TK_end()
}


// ƒJƒbƒp‚ÉG‚ê‚½‚ç
SE_KAPPA
{
	if(!F202)
	{
		F_set(202)
		MES_pos(KAPPA,"¿ì£¬é_Ê¼é_Ê¼£¡",0,320,200,0,0)	//‰æ–Ê’†‰›‚æ‚è‚¿‚å‚¢ã‚É
		wait(30)		
		MES_close(KAPPA)
		F_reset(202)
	}
}

MOTION_KAPPA
{
	MOT_SET(KAPPA,151,151,461,461,-1,-1)	//
	MOT_SET(KAPPA,152,152,463,463,-1,-1)	//
	MOT(KAPPA,152,10)
	wait(10)
	MOT(KAPPA,151,6)
	wait(6)
	MOT(KAPPA,152,6)
	wait(6)

	MOT(KAPPA,151,6)
	wait(6)
	MOT(KAPPA,152,6)
	wait(6)
	MOT(KAPPA,151,6)
	wait(6)
	MOT(KAPPA,152,6)
	wait(6)

	MOT(KAPPA,2,10)

}

SERIHU_KAPPA
{
	MES_pos(KAPPA,"îA‚ä£¬é_Ê¼¡£",0,0,0,0,0)
	wait(20)
	MES_close(KAPPA)
}

EV_START_SE//ƒJƒEƒ“ƒgƒ_ƒEƒ“SE
{
	wait(15)
	SE(46,0)
	wait(30)
	SE(46,0)
	wait(30)
	SE(46,0)
	wait(30)
	SE(47,0)
}


//--------------------------------------------------------------------
// ƒS[ƒ‹ˆ—
//--------------------------------------------------------------------
EV_GOAL
{
	workL(WK_ROUTETIME_STOP,SET,1)	// ƒXƒRƒAŒv‘ª’â~

//	TK_begin()

//138,63079,-1002,359

	EFF(21690,320,240,0,0,100,0)//GOAL
	SE(24,0)

//	move(PLAYER1,0,RUN2,138,63079,-1002,0)//	typ[0=À•Ww’è 1=ƒLƒƒƒ‰X‚ÌˆÊ’u+Z 2=©•ª‘Š‘ÎˆÊ’u 3=©•ªˆÊ’u•xyz‚ª-1ˆÈŠO‚Å’¼ˆÊ’u@5=ÌØÑÌŞ 99=ƒ€[ƒu‰ğœ]   Len=“’B”ÍˆÍ‹——£ type‚ª20ˆÈã‚Å©“®•ûŒü•ÏŠ· type‚ª30ˆÈã‚Å©“®ƒ‚[ƒVƒ‡ƒ“Ø‚è‘Ö‚¦‚È‚µ
	CAM_Type(1)

	if(GW_SKI_DOWN==3)		// “ïˆÕ“xƒ_ƒEƒ“‚R
	{
		if(GW_NOW_BREAK>=12 && GW_NOW_DAM<=5 && SP003<4800)
		{
			//’B¬‚Å‚«‚½‚çƒuƒƒ“ƒY
			workG(GW_ENTRY_EVENT,SET,1)		//ƒuƒƒ“ƒY
		}
		else
		if(SP003>4800)						//80•b=80*60sec
		{
			//ŠÔƒI[ƒo[
			workG(GW_ENTRY_EVENT,SET,10)	//10=ƒXƒL[¸”s(ƒ^ƒCƒ€)
		}
		else
		if(GW_NOW_DAM>5)					//ƒ_ƒ[ƒW5 ‰ñ
		{
			//ƒ_ƒ[ƒW
			workG(GW_ENTRY_EVENT,SET,9)		//9=ƒXƒL[¸”s(ƒ_ƒ[ƒW)
		}
		else
		if(GW_NOW_BREAK<1)
		{
			//‰ó‚µ‘«‚è‚È‚¢@ƒ[ƒ
			workG(GW_ENTRY_EVENT,SET,12)	//12=ƒXƒL[¸”s(ƒcƒ{Aƒ[ƒ)
		}
		else
		if(GW_NOW_BREAK<9)
		{
			//‰ó‚µ‘«‚è‚È‚¢@‘«‚è‚È‚¢
			workG(GW_ENTRY_EVENT,SET,11)	//11=ƒXƒL[¸”s(ƒcƒ{A‘«‚è‚È‚¢)
		}
		else
		{
			//‰ó‚µ‘«‚è‚È‚¢@‚¨‚µ‚¢
			workG(GW_ENTRY_EVENT,SET,8)		//8=ƒXƒL[¸”s(ƒcƒ{A‚¨‚µ‚¢)
		}
	}
	else
	if(GW_SKI_DOWN==2)		// “ïˆÕ“xƒ_ƒEƒ“‚Q
	{
		if(GW_NOW_BREAK>=20 && GW_NOW_DAM<=3 && SP003<4200)
		{
			//’B¬‚Å‚«‚½‚çƒuƒƒ“ƒY
			workG(GW_ENTRY_EVENT,SET,1)		//ƒuƒƒ“ƒY
		}
		else
		if(SP003>4200)						//70•b=70*60sec
		{
			//ŠÔƒI[ƒo[
			workG(GW_ENTRY_EVENT,SET,10)	//10=ƒXƒL[¸”s(ƒ^ƒCƒ€)
		}
		else
		if(GW_NOW_DAM>3)					//ƒ_ƒ[ƒW3‰ñ
		{
			//ƒ_ƒ[ƒW
			workG(GW_ENTRY_EVENT,SET,9)		//9=ƒXƒL[¸”s(ƒ_ƒ[ƒW)
		}
		else
		if(GW_NOW_BREAK<1)
		{
			//‰ó‚µ‘«‚è‚È‚¢@ƒ[ƒ
			workG(GW_ENTRY_EVENT,SET,12)	//12=ƒXƒL[¸”s(ƒcƒ{Aƒ[ƒ)
		}
		else
		if(GW_NOW_BREAK<17)
		{
			//‰ó‚µ‘«‚è‚È‚¢@‘«‚è‚È‚¢
			workG(GW_ENTRY_EVENT,SET,11)	//11=ƒXƒL[¸”s(ƒcƒ{A‘«‚è‚È‚¢)
		}
		else
		{
			//‰ó‚µ‘«‚è‚È‚¢@‚¨‚µ‚¢
			workG(GW_ENTRY_EVENT,SET,8)		//8=ƒXƒL[¸”s(ƒcƒ{A‚¨‚µ‚¢)
		}
	}
	else
	if(GW_SKI_DOWN==1)		// “ïˆÕ“xƒ_ƒEƒ“‚P
	{
		if(GW_NOW_BREAK>=24 && GW_NOW_DAM<=1 && SP003<3900)
		{
			//’B¬‚Å‚«‚½‚çƒuƒƒ“ƒY
			workG(GW_ENTRY_EVENT,SET,1)		//ƒuƒƒ“ƒY
		}
		else
		if(SP003>3900)						//65•b=65*60sec
		{
			//ŠÔƒI[ƒo[
			workG(GW_ENTRY_EVENT,SET,10)	//10=ƒXƒL[¸”s(ƒ^ƒCƒ€)
		}
		else
		if(GW_NOW_DAM>1)					//ƒ_ƒ[ƒW1‰ñ
		{
			//ƒ_ƒ[ƒW
			workG(GW_ENTRY_EVENT,SET,9)		//9=ƒXƒL[¸”s(ƒ_ƒ[ƒW)
		}
		else
		if(GW_NOW_BREAK<1)
		{
			//‰ó‚µ‘«‚è‚È‚¢@ƒ[ƒ
			workG(GW_ENTRY_EVENT,SET,12)	//12=ƒXƒL[¸”s(ƒcƒ{Aƒ[ƒ)
		}
		else
		if(GW_NOW_BREAK<21)
		{
			//‰ó‚µ‘«‚è‚È‚¢@‘«‚è‚È‚¢
			workG(GW_ENTRY_EVENT,SET,11)	//11=ƒXƒL[¸”s(ƒcƒ{A‘«‚è‚È‚¢)
		}
		else
		{
			//‰ó‚µ‘«‚è‚È‚¢@‚¨‚µ‚¢
			workG(GW_ENTRY_EVENT,SET,8)		//8=ƒXƒL[¸”s(ƒcƒ{A‚¨‚µ‚¢)
		}
	}
	else
	{
		if(GW_NOW_BREAK==28 && GW_NOW_DAM==0 && SP003<3600)
		{
			//’B¬‚Å‚«‚½‚çƒuƒƒ“ƒY
			workG(GW_ENTRY_EVENT,SET,1)		//ƒuƒƒ“ƒY
		}
		else
		if(SP003>3600)						//60•b=60*60sec
		{
			//ŠÔƒI[ƒo[
			workG(GW_ENTRY_EVENT,SET,10)	//10=ƒXƒL[¸”s(ƒ^ƒCƒ€)
		}
		else
		if(GW_NOW_DAM!=0)					//ƒ_ƒ[ƒW‚O‰ñ
		{
			//ƒ_ƒ[ƒW
			workG(GW_ENTRY_EVENT,SET,9)		//9=ƒXƒL[¸”s(ƒ_ƒ[ƒW)
		}
		else
		if(GW_NOW_BREAK<1)
		{
			//‰ó‚µ‘«‚è‚È‚¢@ƒ[ƒ
			workG(GW_ENTRY_EVENT,SET,12)	//12=ƒXƒL[¸”s(ƒcƒ{Aƒ[ƒ)
		}
		else
		if(GW_NOW_BREAK<25)
		{
			//‰ó‚µ‘«‚è‚È‚¢@‘«‚è‚È‚¢
			workG(GW_ENTRY_EVENT,SET,11)	//11=ƒXƒL[¸”s(ƒcƒ{A‘«‚è‚È‚¢)
		}
		else
		{
			//‰ó‚µ‘«‚è‚È‚¢@‚¨‚µ‚¢
			workG(GW_ENTRY_EVENT,SET,8)		//8=ƒXƒL[¸”s(ƒcƒ{A‚¨‚µ‚¢)
		}
	}

	//ˆÃ“]
	fade_in(100,60,0)
	wait_fade()

	CAM_Type(0)

	//R‚Ì“ü‚èŒû‚Ö
	EV("EV_GOTO_MOUNTAIN")

}

//--------------------------------------------------------------------
// €–Sˆ—
//--------------------------------------------------------------------

EV_DEAD
{
	EV_begin()

	//ˆÃ“]
	fade_in(100,60,0)
	wait_fade()

	workG(GW_ENTRY_EVENT,SET,7)	//¸”s€–S

	//R‚Ì“ü‚èŒû‚Ö
	EV("EV_GOTO_MOUNTAIN")
}

//--------------------------------------------------------------------
// “Ş——‚¿
//--------------------------------------------------------------------

EV_FALL
{
	//ˆÃ“]
	fade_in(100,30,0)
	wait_fade()

	workG(GW_ENTRY_EVENT,SET,6)	// u6=ƒXƒL[¸”s(“Ş—)v

	//R‚Ì“ü‚èŒû‚Ö
	EV("EV_GOTO_MOUNTAIN")
}

//////////////////////////////////////////////////////////////////////
// ƒp[ƒeƒB[‚ğ–ß‚µ‚ÄR‚Ì“ü‚èŒû‚Ö

EV_GOTO_MOUNTAIN
{
	F_reset_chr(PLAYER1,CF_NO_DEAD)
	set_hp(PLAYER1,100)//‘S‰õ

	if(GW_SKI_PARTNER==5)
	{
		join_party(5)	//ƒIƒfƒbƒT
	}
	else if(GW_SKI_PARTNER==12)
	{
		join_party(12)	//ƒIƒfƒbƒT
	}
	else if(GW_SKI_PARTNER==13)
	{
		join_party(13)	//ƒIƒfƒbƒT
	}
	else if(GW_SKI_PARTNER==6)
	{
		join_party(6)	//ƒXƒoƒ‹
	}
	else if(GW_SKI_PARTNER==1)
	{
		join_party(1)	//ƒAƒ‹ƒEƒFƒ“
	}

	workG(GW_NOW_ROUTE,SET,0)	//U—ª’†ƒ‹[ƒgƒNƒŠƒA
	new_map(16000)
}


#EndScriptTable
//====================================================================

